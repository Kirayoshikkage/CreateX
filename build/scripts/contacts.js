!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t){let{animation:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,"_isOpen",!1),e(this,"_chosenElement",null),e(this,"_idxSelectItemInFocus",0),this._select=document.querySelector(t),this._trigger=this._select.querySelector(".select__trigger"),this._containerForChosenElement=this._select.querySelector(".select__chosen"),this._body=this._select.querySelector(".select__body"),this._content=this._select.querySelector(".select__content"),this._selectItems=this._select.querySelectorAll(".select__item"),this._animation=s,this._styleBody=window.getComputedStyle(this._body),this._bodyHasTransition=0!=parseFloat(this._styleBody.transitionDuration)}getChosenElement(){return this._chosenElement}isFilled(){return Boolean(this._chosenElement)}isOpen(){return this._isOpen}init(){this._close(),this._setsEventListenersTrigger(),this._setsEventListenersElements()}_close(){this._isOpen=!1,this._setsStyleHiding(),this._removesClassActiviteAtSelect()}_setsStyleHiding(){this._animation?this._animation.setsStyleHiding(this._select):this._body.style.display="none"}_removesClassActiviteAtSelect(){this._select.classList.remove("select_active")}_setsEventListenersTrigger(){this._trigger.addEventListener("pointerup",this._toggle.bind(this)),this._trigger.addEventListener("keydown",(e=>{"Enter"===e.code&&this._toggle()}))}_toggle(){this._isOpen?this._close():this._open()}_open(){this._isOpen=!0,this._setsStyleVisibility(),this._addsClassActiviteSelect(),this._setsFocusOnIdxAfterOpen()}_setsStyleVisibility(){this._animation?this._animation.setsStyleVisibility(this._select):this._body.style.display="block"}_addsClassActiviteSelect(){this._select.classList.add("select_active")}_setsFocusOnIdxAfterOpen(){var e;this._bodyHasTransition?this._body.addEventListener("transitionend",(()=>{var e;null===(e=this._selectItems[this._idxSelectItemInFocus])||void 0===e||e.focus()}),{once:!0}):null===(e=this._selectItems[this._idxSelectItemInFocus])||void 0===e||e.focus()}_setsEventListenersElements(){this._content.addEventListener("pointerup",(e=>{const{target:t}=e;t.classList.contains("select__item")&&this._makesElementChosen(t)})),this._content.addEventListener("keydown",(e=>{const{target:t}=e;"Enter"===e.code&&t.classList.contains("select__item")&&this._makesElementChosen(t)})),this._content.addEventListener("keydown",(e=>{const{code:t}=e;"ArrowDown"===t&&(e.preventDefault(),this._navigatesDownTheSelectElements())})),this._content.addEventListener("keydown",(e=>{const{code:t}=e;"ArrowUp"===t&&(e.preventDefault(),this._navigatesUpTheSelectElements())})),this._content.addEventListener("keyup",(e=>{const{target:t,code:s}=e;"Tab"===s&&this._synchronizesIdxSelectItemInFocus(t)}))}_makesElementChosen(e){const t=this._getDataValue(e);this._checksChosenElementForMatch(t)||(this._removesClassActivityAtSelectItem(this._getSelectItemOnDataValue(this._chosenElement)),this._writesChosenElementInField(t),this._addsClassActivitySelectItem(e),this._showsChosenElement(e),this._close())}_getDataValue(e){return e.dataset.value}_checksChosenElementForMatch(e){return this._chosenElement===e}_removesClassActivityAtSelectItem(e){null==e||e.classList.remove("select__item_selected")}_getSelectItemOnDataValue(e){return e?Array.from(this._selectItems).find((t=>t.dataset.value===e)):null}_writesChosenElementInField(e){this._chosenElement=e}_addsClassActivitySelectItem(e){null==e||e.classList.add("select__item_selected")}_showsChosenElement(e){this._containerForChosenElement.textContent=e.textContent}_navigatesDownTheSelectElements(){var e;this._selectItems.length-1!==this._idxSelectItemInFocus&&(this._idxSelectItemInFocus+=1,null===(e=this._selectItems[this._idxSelectItemInFocus])||void 0===e||e.focus())}_navigatesUpTheSelectElements(){var e;0!==this._idxSelectItemInFocus&&(this._idxSelectItemInFocus-=1,null===(e=this._selectItems[this._idxSelectItemInFocus])||void 0===e||e.focus())}_synchronizesIdxSelectItemInFocus(e){this._idxSelectItemInFocus=Array.from(this._selectItems).indexOf(e)}}class s{setsStyleVisibility(e){const t=e.querySelector(".body"),s=e.querySelector(".content");t.style.cssText="\n      overflow:  ;\n      max-height: ".concat(s.scrollHeight,"px;\n      visibility: visible;\n    ")}setsStyleHiding(e){e.querySelector(".body").style.cssText="\n      overflow: hidden;\n      max-height: 0;\n      visibility: hidden;\n    "}}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,"_listOfValidationRules",new Map([["minLength",this._minLength],["maxLength",this._maxLength],["text",this._text],["requered",this._requered],["email",this._email],["phone",this._phone],["checkbox",this._checkbox]])),i(this,"_listElementsToCheck",new Map),i(this,"_isValid",!1),this._form="string"==typeof e?document.querySelector(e):null}submit(e){this._form.addEventListener("submit",(t=>{t.preventDefault(),e(t)}))}getForm(){return this._form}addRuleValidationElements(e,t){var s;if("string"!=typeof e)throw new Error("The transmitted data is not correct");if(!Array.isArray(t))throw new Error("The transmitted data is not correct");null===(s=document.querySelectorAll(e))||void 0===s||s.forEach((e=>{this._setRuleForElement(e,t)}))}addCustomRuleValidateInList(e,t){if("string"!=typeof e)throw new Error("The transmitted data is not correct");if("function"!=typeof t)throw new Error("The transmitted data is not correct");this._listOfValidationRules.set(e,t)}_setRuleForElement(e,t){const s=[];t.forEach((t=>{let{rule:i,...n}=t;const r=this._listOfValidationRules.get(i);s.push(r.bind(this,{...n,element:e}))})),this._listElementsToCheck.set(e,s)}init(){if(!this._form||"FORM"!==this._form.tagName)throw new Error("The transmitted data is not correct")}isValid(){return this._checkValidationAllElementsForm(),this._isValid}_checkValidationAllElementsForm(){let e=!0;for(const t of this._listElementsToCheck.keys())this._validationOneElement(t)||(e=!1);this._isValid=e}_validationOneElement(e){let t,s=!0;return this._listElementsToCheck.get(e).every((e=>{const{validate:i,errorMessage:n}=e();return i||(s=!s,t=n),i})),s?this._hideErrorMessage(e):this._showErrorMessage(e,t),s}_showErrorMessage(e,t){const s=e.nextElementSibling;this._searchElementErrorMessage(s,(s=>{s.textContent=t,e.classList.add("validate-error"),s.classList.add("validate-error-message_show")}))}_hideErrorMessage(e){const t=e.nextElementSibling;this._searchElementErrorMessage(t,(t=>{e.classList.remove("validate-error"),t.classList.remove("validate-error-message_show")}))}_searchElementErrorMessage(e,t){e.classList.contains("validate-error-message")?t(e):this._searchElementErrorMessage(e.nextElementSibling,t)}_minLength(e){let{element:t,value:s,errorMessage:i=null}=e;const n=t.value.trim();return n.length<s&&""!==n?{validate:!1,errorMessage:i}:{validate:!0}}_maxLength(e){let{element:t,value:s,errorMessage:i=null}=e;return t.value.trim().length>s?{validate:!1,errorMessage:i}:{validate:!0}}_requered(e){let{element:t,errorMessage:s=null}=e;return""==t.value.trim()?{validate:!1,errorMessage:s}:{validate:!0}}_text(e){let{element:t,errorMessage:s=null}=e;const i=t.value.trim();return/[^a-zA-ZА-Яа-я\s]/.test(i)&&""!==i?{validate:!1,errorMessage:s}:{validate:!0}}_email(e){let{element:t,errorMessage:s=null}=e;const i=t.value.trim();return 0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(i)&&""!==i?{validate:!1,errorMessage:s}:{validate:!0}}_phone(e){let{element:t,errorMessage:s=null}=e;const i=t.value.trim();return 0==/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(i)&&""!==i?{validate:!1,errorMessage:s}:{validate:!0}}_checkbox(e){let{element:t,errorMessage:s}=e;const{checked:i}=t;return i?{validate:!0}:{validate:!1,errorMessage:s}}}class r{constructor(){let{container:e=null,body:t=null,trigger:s=null,animation:i=null,focusLock:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;(r="_isOpen")in this?Object.defineProperty(this,r,{value:false,enumerable:!0,configurable:!0,writable:!0}):this[r]=false,this._container=document.querySelector(e),this._trigger=s?document.querySelector(s):null,this._body=t,this._animation=i,this._focusLock=n}isOpen(){return this._isOpen}init(){this._throwsError(),this._addsEventListenersTrigger(),this._closesWindowOnClickOutside(),this._setsStyleHiding()}_throwsError(){if(!this._body)throw new Error("Field body is required")}_addsEventListenersTrigger(){this._trigger&&(this._trigger.addEventListener("pointerup",(()=>{this.toggle()})),this._trigger.addEventListener("keydown",(e=>{"Enter"===e.code&&this.toggle()})))}toggle(){this.isOpen()?this.close():this.open()}close(){this._isOpen=!1,this._setsStyleHiding(),this._switchesClassActiveTrigger(),this._changesClassActiviteAtWindow(),this._unblocksFocus(),this._removesScrollPadding(document.body),this._removesScrollPadding(this._container),this._switchesBlockScroll()}_setsStyleHiding(){this._animation?this._animation.setStyleHiding(this._container):(this._container.style.visibility="hidden",this._container.style.opacity=0)}_switchesClassActiveTrigger(){this._trigger&&(this._isOpen?this._trigger.classList.add("active"):this._trigger.classList.remove("active"))}_changesClassActiviteAtWindow(){this._isOpen?this._container.classList.add("active"):this._container.classList.remove("active")}_unblocksFocus(){this._focusLock&&this._focusLock.unblocksFocus()}_switchesBlockScroll(){this.isOpen()?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}_removesScrollPadding(e){e.style.paddingRight=0}open(){this._isOpen=!0,this._addsPaddingInsteadOfScroll(document.body),this._addsPaddingInsteadOfScroll(this._container),this._setsStyleVisibility(),this._switchesBlockScroll(),this._switchesClassActiveTrigger(),this._changesClassActiviteAtWindow(),this._blocksFocus()}_addsPaddingInsteadOfScroll(e){const t="".concat(window.innerWidth-document.body.offsetWidth,"px");e.style.paddingRight=t}_setsStyleVisibility(){this._animation?this._animation.setStyleVisibility(this._container):(this._container.style.visibility="visible",this._container.style.opacity=1)}_blocksFocus(){this._focusLock&&this._focusLock.blocksFocus()}_closesWindowOnClickOutside(){this._container.addEventListener("pointerdown",(e=>{e.target.closest(this._body)||this.close()}))}}class o extends r{constructor(){let{container:e=null,body:t=null,trigger:s=null,animation:i=null,focusLock:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r,o;super({container:e,body:t,trigger:s,animation:i,focusLock:n}),o=void 0,(r="_activeElementBeforeOpen")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._closeBtn=this._container.querySelector(".modal__close")}init(){super.init(),this._addsEventListenersButtonClose()}_addsEventListenersButtonClose(){this._closeBtn.addEventListener("pointerup",(()=>{this.close()})),this._closeBtn.addEventListener("keydown",(e=>{"Enter"===e.code&&this.close()}))}open(){super.open(),this._activeElementBeforeOpen=document.activeElement}close(){var e;super.close(),null===(e=this._activeElementBeforeOpen)||void 0===e||e.focus(),this._activeElementBeforeOpen=null}}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a{constructor(){let{exception:e=!1,container:t="body",mutationObserver:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,"_listElementsToBlock",new Set),l(this,"_listChecksToBlock",[this._checkingForFocus,this._checkingForException.bind(this)]),l(this,"_isBlockFocus",!1),l(this,"_linkOnMutationObserver",void 0),l(this,"_listHandlesMutationObserver",{childList:this._handlesMutationChildList,attributes:this._handlesMutationAttributes}),l(this,"_mutationAttributesFlag",!1),this._exception=e,this._container=t,this._mutationObserver=s}isBlockFocus(){return this._isBlockFocus}init(){this._throwsErrors(),setTimeout((()=>{this._populatesTheListElementsToBlock(document.querySelectorAll("".concat(this._container," *")))}),0),this._addsMutationObserver()}_throwsErrors(){if(this._exception&&!Array.isArray(this._exception)&&"string"!=typeof this._exception)throw new Error("Exception wrong type");if(this._container&&"string"!=typeof this._container)throw new Error("Container wrong type")}_populatesTheListElementsToBlock(e){e.forEach((e=>{this._checksOneElement(e)&&this._addsElementToBlockList(e)}))}_addsElementToBlockList(e){this._listElementsToBlock.add(e),this.isBlockFocus()&&this._blocksFocusElement(e)}_checksOneElement(e){return this._listChecksToBlock.every((t=>t(e)))}_checkingForFocus(e){return 0===e.tabIndex}_checkingForException(e){if(!this._exception)return!0;if(!Array.isArray(this._exception))return!e.closest(this._exception);for(const t of this._exception)if(e.closest(t))return!1;return!0}_blocksFocusElement(e){null==e||e.setAttribute("tabindex",-1)}blocksFocus(){this._listElementsToBlock.forEach((e=>{this._blocksFocusElement(e)})),this._isBlockFocus=!0,this._mutationAttributesFlag=!0}unblocksFocus(){this._listElementsToBlock.forEach((e=>{this._unblocksFocusElement(e)})),this._isBlockFocus=!1,setTimeout((()=>{this._mutationAttributesFlag=!1}))}_unblocksFocusElement(e){null==e||e.setAttribute("tabindex",0)}_addsMutationObserver(){this._mutationObserver&&(this._linkOnMutationObserver=new MutationObserver(this._handlesMutationObserver.bind(this)),this._linkOnMutationObserver.observe(document.querySelector(this._container),{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["tabindex"]}))}_handlesMutationObserver(e){e.forEach((e=>{const{type:t}=e;this._listHandlesMutationObserver[t].call(this,e)}))}_handlesMutationChildList(e){const{addedNodes:t,removedNodes:s}=e,i=this._filtersElementsFromNodes(t),n=this._filtersElementsFromNodes(s);this._populatesTheListElementsToBlock(i),this._removesElementsFromBlockList(n)}_filtersElementsFromNodes(e){return Array.from(e).filter((e=>1===e.nodeType))}_removesElementsFromBlockList(e){e.forEach((e=>this._removesElementFromBlockList(e)))}_removesElementFromBlockList(e){this._listElementsToBlock.delete(e),this.isBlockFocus()&&this._unblocksFocusElement(e)}_handlesMutationAttributes(e){if(this._mutationAttributesFlag)return;const{target:t}=e;this._checksOneElement(t)?this._addsElementToBlockList(t):this._removesElementFromBlockList(t)}disconnectsMutationObserver(){this._linkOnMutationObserver.disconnect()}}const c=new a({exception:".modal-successful-sending",mutationObserver:!0});c.init();const h=new o({container:".modal-successful-sending",body:".modal__body",focusLock:c});function d(e,t){e.addRuleValidationElements("".concat(t," .form__input_name"),[{rule:"text",errorMessage:"The field can only contain letters!"},{rule:"maxLength",value:21,errorMessage:"Maximum value - 21 characters!"},{rule:"minLength",value:2,errorMessage:"Minimum value - 2 characters!"},{rule:"requered",errorMessage:"This field is required!"}])}function u(e,t){e.addRuleValidationElements("".concat(t," .form__input_phone"),[{rule:"phone",errorMessage:"Please enter a valid phone number!"},{rule:"requered",errorMessage:"This field is required!"}])}function _(e,t){e.addRuleValidationElements("".concat(t," .form__input_message"),[{rule:"text",errorMessage:"The field can only contain letters!"},{rule:"maxLength",value:54,errorMessage:"Maximum value  - 54 characters!"},{rule:"minLength",value:2,errorMessage:"Minimum value - 2 characters!"},{rule:"requered",errorMessage:"This field is required!"}])}function m(e,t){e.addRuleValidationElements("".concat(t," .form__input_email"),[{rule:"email",errorMessage:"Please enter a valid e-mail!"},{rule:"maxLength",value:40,errorMessage:"Maximum value  - 40 characters!"},{rule:"minLength",value:12,errorMessage:"Minimum value - 12 characters!"},{rule:"requered",errorMessage:"This field is required!"}])}function g(){setTimeout((()=>{h.open()}),0)}h.init();class v extends r{constructor(){let{container:e=null,body:t=null,trigger:s=null,breakpoints:i=null,animation:n=null,focusLock:r=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o,l;super({container:e,body:t,trigger:s,animation:n,focusLock:r}),l=void 0,(o="_currentBreakpoint")in this?Object.defineProperty(this,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):this[o]=l,this._breakpoints=i}init(){super.init(),this._initBreakpointUpdate()}_initBreakpointUpdate(){this._breakpoints&&(this._updatesBreakpoint(),window.addEventListener("resize",function(e,t){let s;return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];clearTimeout(s),s=setTimeout((()=>{e.apply(this,i)}),400)}}(this._updatesBreakpoint.bind(this))))}_updatesBreakpoint(){const e=this._getCurrentBreakpoint();this._currentBreakpoint!=e&&(this._currentBreakpoint=e,this._callsFunctionsBreakpoint())}_getCurrentBreakpoint(){const e=window.innerWidth;return Object.keys(this._breakpoints).reduce(((t,s)=>(e>=s&&(t=s),t)),0)}_callsFunctionsBreakpoint(){const e=this._breakpoints[this._currentBreakpoint];e&&("function"!=typeof e?null==e||e.forEach((e=>{e()})):e())}}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return;e.preventDefault();const t=e.target,s=t.closest("[href]").getAttribute("href");document.querySelector(s).scrollIntoView({behavior:"smooth",block:"start"})}function f(){const e=new v({container:".burger-menu",trigger:".header .burger-trigger",body:".burger-menu__body",breakpoints:{768:()=>{e.isOpen()&&e.close()}}});e.init(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("string"!=typeof e)throw new Error("Selector incorrect");const t=document.querySelectorAll(e);null==t||t.forEach((e=>{e.addEventListener("click",b)}))}(".smooth-scroll"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t||!s)throw new Error("Invalid number of arguments passed");e.forEach((e=>{e.addEventListener("keydown",(e=>{e.key===t&&e.target===e.currentTarget&&s(e.currentTarget)}))}))}(document.querySelectorAll(".custom-checkbox"),"Enter",(e=>{const t=e.querySelector("input");t.checked=!t.checked})),function(){const e=".feedback-form",t=new n(e);t.init(),d(t,e),u(t,e),_(t,e),m(t,e),t.submit((()=>{t.isValid()&&(t.getForm().reset(),g())}))}(),function(){const e=".newsletter-subscription-form",t=new n(e);t.init(),m(t,e),t.submit((()=>{t.isValid()&&(t.getForm().reset(),g())}))}()}function y(){document.body.insertAdjacentHTML("beforeend",'\n    <div class="modal error-notification">\n      <div class="modal__body error-notification__body">\n        <div class="modal__content error-notification__content">\n          <p class="error-notification__text">Произошла ошибка, перезагрузите страницу!</p>\n          <button class="btn-reset modal__close" type="button">\n            <svg class="modal__icon">\n              <use xlink:href="img/sprite.svg#close"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  ');const e=new a({exception:".error-notification"});e.init();const t=new o({container:".error-notification",body:"modal__body",focusLock:e});t.init(),setTimeout((()=>{t.open()}))}!function(e){window.addEventListener("error",y);try{(()=>{f(),new t(".interested-select",{animation:new s}).init();const e=new t(".location-select",{animation:new s});e.init(),function(e){const t=".contacts-us-form",s=new n(t);s.init(),d(s,t),u(s,t),s.addCustomRuleValidateInList("custom-select",(t=>{let{errorMessage:s}=t;return e.isFilled()?{validate:!0}:{validate:!1,errorMessage:s}})),s.addRuleValidationElements(".location-select",[{rule:"custom-select",errorMessage:"Country of residence required"}]),_(s,t),s.submit((()=>{s.isValid()&&(s.getForm().reset(),g())}))}(e)})()}catch(e){y()}}()}();