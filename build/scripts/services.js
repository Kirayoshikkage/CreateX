!function(){"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class t{constructor(){let{container:t=null,body:i=null,trigger:s=null,animation:n=null,focusLock:o=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,"_isOpen",!1),e(this,"_blockScrollWasAdded",!1),this._container=document.querySelector(t),this._trigger=s?document.querySelector(s):null,this._body=i,this._animation=n,this._focusLock=o}isOpen(){return this._isOpen}init(){this._throwsError(),this._addsEventListenersTrigger(),this._closesWindowOnClickOutside(),this._setsStyleHiding()}_throwsError(){if(!this._body)throw new Error("Field body is required")}_addsEventListenersTrigger(){this._trigger&&(this._trigger.addEventListener("pointerup",(()=>{this.toggle()})),this._trigger.addEventListener("keydown",(e=>{"Enter"===e.code&&this.toggle()})))}toggle(){this.isOpen()?this.close():this.open()}close(){this._isOpen=!1,this._setsStyleHiding(),this._switchesClassActiveTrigger(),this._changesClassActiviteAtWindow(),this._unblocksFocus(),this._removesScrollPadding(document.body),this._removesScrollPadding(this._container),this._switchesBlockScroll()}_setsStyleHiding(){this._animation?this._animation.setStyleHiding(this._container):(this._container.style.visibility="hidden",this._container.style.opacity=0)}_switchesClassActiveTrigger(){this._trigger&&(this._isOpen?this._trigger.classList.add("active"):this._trigger.classList.remove("active"))}_changesClassActiviteAtWindow(){this._isOpen?this._container.classList.add("active"):this._container.classList.remove("active")}_unblocksFocus(){this._focusLock&&this._focusLock.unblocksFocus()}_switchesBlockScroll(){const{body:e}=document;if(this.isOpen()){if(e.classList.contains("overflow-hidden"))return;return e.classList.add("overflow-hidden"),void(this._blockScrollWasAdded=!0)}this._blockScrollWasAdded&&(e.classList.remove("overflow-hidden"),this._blockScrollWasAdded=!1)}_removesScrollPadding(e){e.style.paddingRight=0}open(){this._isOpen=!0,this._addsPaddingInsteadOfScroll(document.body),this._addsPaddingInsteadOfScroll(this._container),this._setsStyleVisibility(),this._switchesBlockScroll(),this._switchesClassActiveTrigger(),this._changesClassActiviteAtWindow(),this._blocksFocus()}_addsPaddingInsteadOfScroll(e){const t=window.innerWidth-document.body.offsetWidth+"px";e.style.paddingRight=t}_setsStyleVisibility(){this._animation?this._animation.setStyleVisibility(this._container):(this._container.style.visibility="visible",this._container.style.opacity=1)}_blocksFocus(){this._focusLock&&this._focusLock.blocksFocus()}_closesWindowOnClickOutside(){this._container.addEventListener("pointerdown",(e=>{e.target.closest(this._body)||this.close()}))}}class i extends t{constructor(){let{container:e=null,body:t=null,trigger:i=null,breakpoints:s=null,animation:n=null,focusLock:o=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r,l;super({container:e,body:t,trigger:i,animation:n,focusLock:o}),l=void 0,(r="_currentBreakpoint")in this?Object.defineProperty(this,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):this[r]=l,this._breakpoints=s}init(){super.init(),this._initBreakpointUpdate()}_initBreakpointUpdate(){this._breakpoints&&(this._updatesBreakpoint(),window.addEventListener("resize",function(e,t){let i;return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];clearTimeout(i),i=setTimeout((()=>{e.apply(this,s)}),400)}}(this._updatesBreakpoint.bind(this))))}_updatesBreakpoint(){const e=this._getCurrentBreakpoint();this._currentBreakpoint!=e&&(this._currentBreakpoint=e,this._callsFunctionsBreakpoint())}_getCurrentBreakpoint(){const e=window.innerWidth;return Object.keys(this._breakpoints).reduce(((t,i)=>(e>=i&&(t=i),t)),0)}_callsFunctionsBreakpoint(){const e=this._breakpoints[this._currentBreakpoint];e&&("function"!=typeof e?null==e||e.forEach((e=>{e()})):e())}}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return;e.preventDefault();const t=e.target,i=t.closest("[href]").getAttribute("href");document.querySelector(i).scrollIntoView({behavior:"smooth",block:"start"})}function n(){const e=window.getComputedStyle(document.body);return parseFloat(e.fontSize)||16}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(e){let{showAnimationError:t,hidingAnimationError:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,"_listElementsToValidate",new Map),o(this,"_listValidationRules",{required:this._required,maxLength:this._maxLength,minLength:this._minLength,text:this._text,phone:this._phone,email:this._email}),o(this,"_isValid",void 0),this._form=document.querySelector(e),this._showAnimationError=t,this._hidingAnimationError=i}isValid(){return this._isValid}submit(e){this._form.addEventListener("submit",(t=>{t.preventDefault(),e(t)}))}getForm(){return this._form}addCustomValidationRule(e,t){if(this._listValidationRules[e])throw new Error("This rule already exists");this._listValidationRules[e]=t}addElementForValidation(e,t){this._form.querySelectorAll(e).forEach((e=>{const i=this._definesRulesForElementValidation(e,t);this._listElementsToValidate.set(e,i)}))}_definesRulesForElementValidation(e,t){return Object.keys(t).reduce(((i,s)=>(i.push(this._configuresValidationRuleForElement(e,s,t[s])),i)),[])}_configuresValidationRuleForElement(e,t,i){if(!this._listValidationRules[t])throw new Error(`Rule ${t} does not exist`);return this._listValidationRules[t].bind(null,{element:e,...i})}validates(){const e=Array.from(this._listElementsToValidate.keys()).map((e=>{const{isValid:t,errorMessage:i}=this._checksValidityAnElement(e);return t&&(this._removesInvalidClass(e),this._removesErrorText(e)),t||(this._addsInvalidClass(e),this._insertsErrorText(e,i)),t}));this._isValid=e.every((e=>e))}_checksValidityAnElement(e){const t=this._listElementsToValidate.get(e);let i=null;const s=t.every((e=>{const t=e();return i=t.errorMessage,t.isValid}));return{errorMessage:i,isValid:s}}_addsInvalidClass(e){e.classList.add("invalid")}_removesErrorText(e){const t=e.nextElementSibling;this._hidingAnimationError?this._hidingAnimationError(t,(()=>{t.textContent=""})):t.textContent=""}_removesInvalidClass(e){e.classList.remove("invalid")}_insertsErrorText(e,t){const i=e.nextElementSibling;this._showAnimationError?this._showAnimationError(i,(()=>{i.textContent=t})):i.textContent=t}_required(e){let{element:t,errorMessage:i}=e;const{checked:s}=t;return t.value.trim()||s?{isValid:!0}:{isValid:!1,errorMessage:i}}_maxLength(e){let{element:t,errorMessage:i,value:s}=e;return t.value.trim().length<=s?{isValid:!0}:{isValid:!1,errorMessage:i}}_minLength(e){let{element:t,errorMessage:i,value:s}=e;return t.value.trim().length>=s?{isValid:!0}:{isValid:!1,errorMessage:i}}_text(e){let{element:t,errorMessage:i}=e;const s=t.value.trim();return/[^a-zA-ZА-Яа-я\s]/.test(s)?{isValid:!1,errorMessage:i}:{isValid:!0}}_phone(e){let{element:t,errorMessage:i}=e;const s=t.value.trim();return/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(s)?{isValid:!0}:{isValid:!1,errorMessage:i}}_email(e){let{element:t,errorMessage:i}=e;const s=t.value.trim();return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(s)?{isValid:!0}:{isValid:!1,errorMessage:i}}}class l extends t{constructor(){let{container:e=null,body:t=null,trigger:i=null,animation:s=null,focusLock:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o,r;super({container:e,body:t,trigger:i,animation:s,focusLock:n}),r=void 0,(o="_activeElementBeforeOpen")in this?Object.defineProperty(this,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[o]=r,this._closeBtn=this._container.querySelector(".modal__close")}init(){super.init(),this._addsEventListenersButtonClose()}_addsEventListenersButtonClose(){this._closeBtn.addEventListener("pointerup",(()=>{this.close()})),this._closeBtn.addEventListener("keyup",(e=>{"Enter"===e.code&&this.close()}))}open(){super.open(),this._activeElementBeforeOpen=document.activeElement}close(){var e;super.close(),null===(e=this._activeElementBeforeOpen)||void 0===e||e.focus(),this._activeElementBeforeOpen=null}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c{constructor(){let{exception:e=!1,container:t="body",mutationObserver:i=!1,disableOnMobileDevice:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,"_listElementsToBlock",new Set),a(this,"_listChecksToBlock",[this._checkingForFocus,this._checkingForException.bind(this)]),a(this,"_isBlockFocus",!1),a(this,"_linkOnMutationObserver",void 0),a(this,"_listHandlesMutationObserver",{childList:this._handlesMutationChildList,attributes:this._handlesMutationAttributes}),a(this,"_mutationAttributesFlag",!1),this._exception=e,this._container=t,this._mutationObserver=i,this._disableOnMobileDevice=s}isBlockFocus(){return this._isBlockFocus}init(){this._disableOnMobileDevice&&this._userDeviceIsPhone()||(this._throwsErrors(),setTimeout((()=>{this._populatesTheListElementsToBlock(document.querySelectorAll(`${this._container} *`))}),0),this._addsMutationObserver())}_userDeviceIsPhone(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)}_throwsErrors(){if(this._exception&&!Array.isArray(this._exception)&&"string"!=typeof this._exception)throw new Error("Exception wrong type");if(this._container&&"string"!=typeof this._container)throw new Error("Container wrong type")}_populatesTheListElementsToBlock(e){e.forEach((e=>{this._checksOneElement(e)&&this._addsElementToBlockList(e)}))}_addsElementToBlockList(e){this._listElementsToBlock.add(e),this.isBlockFocus()&&this._blocksFocusElement(e)}_checksOneElement(e){return this._listChecksToBlock.every((t=>t(e)))}_checkingForFocus(e){return 0===e.tabIndex}_checkingForException(e){if(!this._exception)return!0;if(!Array.isArray(this._exception))return!e.closest(this._exception);for(const t of this._exception)if(e.closest(t))return!1;return!0}_blocksFocusElement(e){null==e||e.setAttribute("tabindex",-1)}blocksFocus(){this._disableOnMobileDevice&&this._userDeviceIsPhone()||(this._listElementsToBlock.forEach((e=>{this._blocksFocusElement(e)})),this._isBlockFocus=!0,this._mutationAttributesFlag=!0)}unblocksFocus(){this._disableOnMobileDevice&&this._userDeviceIsPhone()||(this._listElementsToBlock.forEach((e=>{this._unblocksFocusElement(e)})),this._isBlockFocus=!1,setTimeout((()=>{this._mutationAttributesFlag=!1})))}_unblocksFocusElement(e){null==e||e.setAttribute("tabindex",0)}_addsMutationObserver(){this._mutationObserver&&(this._linkOnMutationObserver=new MutationObserver(this._handlesMutationObserver.bind(this)),this._linkOnMutationObserver.observe(document.querySelector(this._container),{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["tabindex"]}))}_handlesMutationObserver(e){e.forEach((e=>{const{type:t}=e;this._listHandlesMutationObserver[t].call(this,e)}))}_handlesMutationChildList(e){const{addedNodes:t,removedNodes:i}=e,s=this._filtersElementsFromNodes(t),n=this._filtersElementsFromNodes(i);this._populatesTheListElementsToBlock(s),this._removesElementsFromBlockList(n)}_filtersElementsFromNodes(e){return Array.from(e).filter((e=>1===e.nodeType))}_removesElementsFromBlockList(e){e.forEach((e=>this._removesElementFromBlockList(e)))}_removesElementFromBlockList(e){this._listElementsToBlock.delete(e),this.isBlockFocus()&&this._unblocksFocusElement(e)}_handlesMutationAttributes(e){if(this._mutationAttributesFlag)return;const{target:t}=e;this._checksOneElement(t)?this._addsElementToBlockList(t):this._removesElementFromBlockList(t)}disconnectsMutationObserver(){this._linkOnMutationObserver.disconnect()}}const d={showAnimationError(e,t){t(),e.style.opacity=1},hidingAnimationError(e,t){e.style.opacity=0,setTimeout((()=>{t()}),400)}},h=new c({exception:[".form-status"],mutationObserver:!0,disableOnMobileDevice:!0}),u=new l({container:".form-status",body:".modal__body",focusLock:h});function _(e,t){e.addElementForValidation(t,{required:{errorMessage:"This field is required!"},email:{errorMessage:"Wrong format! Example: example@bk.ru"}})}function m(e){e.submit((()=>{e.validates();const t=e.isValid();!function(e){document.querySelector(".form-status").dataset.status=e?"success":"error"}(t),t&&e.getForm().reset(),u.open(),setTimeout((()=>{u.isOpen()&&u.close()}),2500)}))}function b(){const e=new i({container:".burger-menu",trigger:".header .burger-trigger",body:".burger-menu__body",breakpoints:{[48*n()]:()=>{e.isOpen()&&e.close()}}});e.init(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("string"!=typeof e)throw new Error("Selector incorrect");const t=document.querySelectorAll(e);null==t||t.forEach((e=>{e.addEventListener("click",s)}))}(".smooth-scroll"),function(){const e=new r(".feedback-form",d);(function(e,t){e.addElementForValidation(t,{required:{errorMessage:"This field is required!"},text:{errorMessage:"Wrong format! Example: Matthew"}})})(e,"#feedback-name"),function(e,t){e.addElementForValidation(t,{required:{errorMessage:"This field is required!"},phone:{errorMessage:"Wrong format! Example: +7 923 678 56 70"}})}(e,"#feedback-phone"),_(e,"#feedback-email"),function(e,t){e.addElementForValidation(t,{required:{errorMessage:"This field is required!"},text:{errorMessage:"Invalid format, only letters allowed!"}})}(e,"#feedback-message"),m(e)}(),function(){const e=new r(".newsletter-sub",d);_(e,"#newsletter-sub-email"),m(e)}()}function g(){document.body.insertAdjacentHTML("beforeend",'\n    <div class="modal error-notification">\n      <div class="modal__body error-notification__body">\n        <div class="modal__content error-notification__content">\n          <p class="error-notification__text">Произошла ошибка, перезагрузите страницу!</p>\n          <button class="btn-reset modal__close" type="button">\n            <svg class="modal__icon">\n              <use xlink:href="img/sprite.svg#close"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  ');const e=new c({exception:".error-notification",disableOnMobileDevice:!0});e.init();const t=new l({container:".error-notification",body:"modal__body",focusLock:e});t.init(),setTimeout((()=>{t.open()}))}h.init(),u.init(),function(e){window.addEventListener("error",g);try{b()}catch(e){g()}}()}();